#!/bin/sh

loc="$HOME"/.config/x11

locx="$loc"/xre

xre="$loc"/Xresources
xin="$loc"/xinitrc

prof="$HOME"/.config/shell/.profile

isurxvtc(){ grep -q 'TERMINAL="urxvtc"' "$prof"; }
isdwm(){ grep -q 'dwm' "$xin"; }

fndf(){ find "$locx" -type f -not -name "$1" -exec cat {} \; > "$xre"; }
if [ -f "$xre" ]; then
	if ( isurxvtc && isdwm ); then
		cat "$locx"/* > "$xre"
	elif ( isurxvtc || isdwm); then
		if ( isurxvtc ); then
			fndf 'dwm'	
		elif ( isdwm ); then
			fndf 'urxvt'
		fi
	fi
fi

xrdb -load "$xre"
