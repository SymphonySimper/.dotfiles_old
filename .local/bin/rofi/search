#!/bin/sh

url='https://duckduckgo.com/?q='
search_history="$HOME"/.cache/searchhis

open_terminal(){ $TERMINAL -e ytfzf -t "$(echo "$@" | sed 's/\;y//g')"; }

if [ -z "$@" ]; then
	[ -f $search_history ] && tac $search_history
else
	! grep -qw "^$@" $search_history && echo "$@" >> $search_history
	case "$@" in
		\;y*) open_terminal "${@}" > /dev/null 2>&1 & ;;
		*)$BROWSER "${url}${@}" > /dev/null 2>&1 & ;;
	esac
fi
