#!/bin/sh

LOC="$HOME"/lifeisfun
. "$HOME"/.local/bin/bspwm/codeSplit

QUERY="$(exa -aD $LOC | rofi -dmenu -p 'dir')"

if [ -n "$QUERY" ]; then
	if [ "$QUERY" = 'rust' ]; then
		bspc desktop -f '^4'
		$TERMINAL -e devour $READER "$HOME"/lifeisfun/rust/rust-lang.pdf
	fi
	if [ -n "$(exa -aD $LOC/$QUERY)" ]; then
		QUERY2="$LOC/$QUERY/$(exa -aD $LOC/$QUERY | rofi -dmenu -p 'sub dir')"
	else
		QUERY2="$LOC/$QUERY"
	fi
else
	exit 1
fi

openTerminals(){ for i in $(seq 2); do $TERMINAL -cd "$QUERY2"; done; }
codeSplit openTerminals 
