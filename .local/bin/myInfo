#!/bin/sh

notify="dunstify"
todo="$HOME/.todo"

getStat=$(cat /sys/class/power_supply/BAT0/status)
getCap(){ cat /sys/class/power_supply/BAT0/capacity; }
notifyBat(){ $notify -h string:x-dunst-stack-tag:myBattery  "Battery level: $(getCap)%"; }

getDateTxt=$(date "+%A %B %Y")
getDate=$(date "+%D")
getTime=$(date "+%r")
notifyDate(){ $notify -h string:x-dunst-stack-tag:myDate "$getDate" "$getDateTxt"; }

notifyTime(){ $notify -h string:x-dunst-stack-tag:myTime  "$getTime"; }
todo(){ cat $todo | while read -r line ; do $notify "+" "$line"; done; }

notifyBat; notifyDate; notifyTime; todo
