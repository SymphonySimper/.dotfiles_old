#!/bin/sh
dir="$HOME"/.local/share/icons/screenshot
regionI="$dir"/screenSnip.svg
fullScreenI="$dir"/fullScreen.svg
windowI="$dir"/window.svg

loc="$HOME"/pics/screenshots/$(date +%s).png
save(){ tee $loc; }
cpy(){ xclip -selection clipboard -t image/png; }
selectRegion(){ maim -s -u | save | cpy; }
selectWindow(){ maim -u -i $(xdotool getactivewindow) | save | cpy; }
selectScreen(){ maim -m 1 -u | save | cpy; }

notify(){ dunstify -i "$1" "$2" "Screenshot taken"; }
case "$1" in
	-r) selectRegion && notify "$regionI" "Selected Region" ;;
	-w) selectWindow && notify "$windowI" "Selected Window" ;;
	-s) selectScreen && notify "$fullScreenI" "Selected Screen" ;;
esac
